
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Making a Viz &#8212; LeDataSciFi-2021</title>
    
  <link rel="stylesheet" href="../../../_static/css/index.f658d18f9b420779cfdf24aa0a7e2d77.css">

    
  <link rel="stylesheet"
    href="../../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      
  <link rel="stylesheet"
    href="../../../_static/vendor/open-sans_all/1.44.1/index.css">
  <link rel="stylesheet"
    href="../../../_static/vendor/lato_latin-ext/1.44.1/index.css">

    
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/sphinx-book-theme.40e2e510f6b7d1648584402491bb10fe.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/fin377_specialformatting.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../../../_static/js/index.d3f166471bb80abb5163.js">

    <script id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/togglebutton.js"></script>
    <script src="../../../_static/clipboard.min.js"></script>
    <script src="../../../_static/copybutton.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../../../_static/sphinx-book-theme.d31b09fe5c1d09cb49b26a786de4a05d.js"></script>
    <script async="async" src="https://unpkg.com/thebelab@latest/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="../../../_static/sphinx-thebe.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["\\(", "\\)"]], "displayMath": [["\\[", "\\]"]], "processRefs": false, "processEnvironments": false}})</script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />



  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
<a class="navbar-brand text-wrap" href="../../../index.html">
  
  <img src="../../../_static/logo.png" class="logo" alt="logo">
  
  
  <h1 class="site-logo" id="site-title">LeDataSciFi-2021</h1>
  
</a>
</div><form class="bd-search d-flex align-items-center" action="../../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form>
<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
    <p class="caption collapsible-parent">
 <span class="caption-text">
  About the class
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../../about/objectives.html">
   Objectives
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../about/outcomes.html">
   Outcomes
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../about/about_us.html">
   About us + office hours
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../about/structure_and_policies.html">
   Course structure + policies
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../about/gradeoverview.html">
   Grading
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../about/acknowledgments.html">
   Gratitude
  </a>
 </li>
</ul>
<p class="caption collapsible-parent">
 <span class="caption-text">
  Schedule, tips, resources
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../../about/schedule.html">
   Dashboard, key links, schedule
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../about/resources.html">
   Help + resources
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../about/tips.html">
   Tips and hacks
  </a>
 </li>
</ul>
<p class="caption collapsible-parent">
 <span class="caption-text">
  Assignments and participation
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../../assignments/howto_do.html">
   How to start and turn in assignments
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../assignments/howto_review.html">
   How to do your peer reviews
  </a>
 </li>
</ul>
<p class="caption collapsible-parent">
 <span class="caption-text">
  Textbook
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1 collapsible-parent">
  <a class="reference internal" href="../../01/00_Getting_Started.html">
   1. Motivation and Getting Started
  </a>
  <ul class="collapse-ul">
   <li class="toctree-l2">
    <a class="reference internal" href="../../01/01_Motivation.html">
     1.1. Motivation
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../01/02_Setup.html">
     1.2. Set up
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../01/03_github.html">
     1.3. Github Basics
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../01/04_Markdown.html">
     1.4. Markdown basics
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../01/05_jupyterlab.html">
     1.5. Jupyter Lab Basics
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../01/06_python.html">
     1.6. Python Basics
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../01/07_debugging.html">
     1.7. Debugging
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../01/07a_errors.html">
     1.8. Errors
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../01/08_libraries.html">
     1.9. Installing libraries
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../01/09_gitignore.html">
     1.10. Gitignore Files
    </a>
   </li>
  </ul>
  <i class="fas fa-chevron-down">
  </i>
 </li>
 <li class="toctree-l1 collapsible-parent">
  <a class="reference internal" href="../../02/10_Golden_1.html">
   2. Good Analysis Practices
  </a>
  <ul class="collapse-ul">
   <li class="toctree-l2">
    <a class="reference internal" href="../../02/10_Golden_2.html">
     2.1. A case study of bad research
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../02/10_Golden_3.html">
     2.2. The golden rules
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../02/10_Golden_4.html">
     2.3. Good data
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../02/10_Golden_5.html">
     2.4. When to write functions
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../02/10_Golden_6.html">
     2.5. Reorganizing the bad research folder
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../02/10_Golden_7.html">
     2.6. Filepaths
    </a>
   </li>
  </ul>
  <i class="fas fa-chevron-down">
  </i>
 </li>
 <li class="toctree-l1 collapsible-parent">
  <a class="reference internal" href="../00_Data_Wrangling_Intro.html">
   3. Wrangling with Data
  </a>
  <ul class="collapse-ul">
   <li class="toctree-l2 collapsible-parent">
    <a class="reference internal" href="../01_Numpy.html">
     3.1. Numpy
    </a>
    <ul class="collapse-ul">
     <li class="toctree-l3">
      <a class="reference internal" href="../01a_NumpyCS.html">
       3.1.1. Numpy + Scientific Computing
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../01b_NumpyBasics.html">
       3.1.2. A (Very) Short Introduction
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../01c_NumpyPractice.html">
       3.1.3. Exercises
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../01d_NumpyResources.html">
       3.1.4. More Resources
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../01d_NumpyResources.html#survey">
       3.1.5. Survey
      </a>
     </li>
    </ul>
    <i class="fas fa-chevron-down">
    </i>
   </li>
   <li class="toctree-l2 collapsible-parent">
    <a class="reference internal" href="../02a_pandasIntro.html">
     3.2. Pandas
    </a>
    <ul class="collapse-ul">
     <li class="toctree-l3">
      <a class="reference internal" href="../02a_pandasTips.html">
       3.2.1. Tips
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../02b_pandasVocab.html">
       3.2.2. Vocab and Long vs Wide Data
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../02c_commonFcns.html">
       3.2.3. Common Functions
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../02d_temp.html">
       3.2.4. Temp. vs Perm. Objects
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../02e_eda_golden.html">
       3.2.5. Golden Rules + EDA
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../02f_chains.html">
       3.2.6. Pandas Chains
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../02g_commontasks.html">
       3.2.7. Common Tasks
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../02h_exercises.html">
       3.2.8. Exercises
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../02j_resourcesAndSum.html">
       3.2.9. Summary and Resources
      </a>
     </li>
    </ul>
    <i class="fas fa-chevron-down">
    </i>
   </li>
   <li class="toctree-l2 collapsible-parent">
    <a class="reference internal" href="../04a-dataviz.html">
     3.3. Data Visualization
    </a>
    <ul class="collapse-ul">
     <li class="toctree-l3">
      <a class="reference internal" href="../04b-whyplot.html">
       3.3.1. The Role of Viz in Analysis
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../04c-makeplot.html">
       3.3.2. Making a Plot
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../04d-whichplot.html">
       3.3.3. Which Plot Type Should I Use?
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../04e-visualEDA.html">
       3.3.4. Visual EDA
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../04f-betterplots.html">
       3.3.5. Better Plots
      </a>
     </li>
    </ul>
    <i class="fas fa-chevron-down">
    </i>
   </li>
  </ul>
  <i class="fas fa-chevron-down">
  </i>
 </li>
</ul>

</nav> <!-- To handle the deprecated key -->

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="row topbar fixed-top container-xl">
    <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show">
    </div>
    <div class="col pl-2 topbar-main">
        
        <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
            data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
            aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
            title="Toggle navigation" data-toggle="tooltip" data-placement="left">
            <i class="fas fa-bars"></i>
            <i class="fas fa-arrow-left"></i>
            <i class="fas fa-arrow-up"></i>
        </button>
        
        
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../../../_sources/content/03/old - orig/03_Making_Some_Viz_Happen.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

        <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/LeDataSciFi/ledatascifi-2021"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/LeDataSciFi/ledatascifi-2021/issues/new?title=Issue%20on%20page%20%2Fcontent/03/old - orig/03_Making_Some_Viz_Happen.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        <a class="edit-button" href="https://github.com/LeDataSciFi/ledatascifi-2021/edit/main/content/03/old - orig/03_Making_Some_Viz_Happen.ipynb"><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Edit this page"><i class="fas fa-pencil-alt"></i>suggest edit</button></a>
    </div>
</div>


        <!-- Full screen (wrap in <a> to have style consistency -->
        <a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
                data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
                title="Fullscreen mode"><i
                    class="fas fa-expand"></i></button></a>

        <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/LeDataSciFi/ledatascifi-2021/main?urlpath=lab/tree/content/03/old - orig/03_Making_Some_Viz_Happen.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="../../../_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        <a class="colab-button" href="https://colab.research.google.com/github/LeDataSciFi/ledatascifi-2021/blob/main/content/03/old - orig/03_Making_Some_Viz_Happen.ipynb"><button type="button" class="btn btn-secondary topbarbtn"
                title="Launch Colab" data-toggle="tooltip" data-placement="left"><img class="colab-button-logo"
                    src="../../../_static/images/logo_colab.png"
                    alt="Interact on Colab">Colab</button></a>
        
        
    </div>
</div>

    </div>

    <!-- Table of contents -->
    <div class="d-none d-md-block col-md-2 bd-toc show">
        
        <div class="tocsection onthispage pt-5 pb-3">
            <i class="fas fa-list"></i> Contents
        </div>
        <nav id="bd-toc-nav">
            <ul class="nav section-nav flex-column">
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#">
   Making a Viz
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#why-plot-our-data">
     Why plot our data?
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#anscombe-s-quartet">
       Anscombe’s quartet
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#outliers">
       Outliers
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#omitted-group-effects">
   Omitted group effects
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#outline-for-the-week">
     Outline for the week
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#tips">
     Tips
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#which-graph-should-i-make">
       Which graph should I make?
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#this-graph-can-t-be-made">
       “This graph can’t be made”
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#should-i-use-sns-or-pd-to-do-plot-x">
       Should I use
       <code class="docutils literal notranslate">
        <span class="pre">
         sns
        </span>
       </code>
       or
       <code class="docutils literal notranslate">
        <span class="pre">
         pd
        </span>
       </code>
       to do plot X?
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#i-want-to-facet-my-figure-but">
       I want to
       <code class="docutils literal notranslate">
        <span class="pre">
         Facet
        </span>
       </code>
       my figure, but…
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#common-graphs-a-brief-walkthrough">
     Common graphs - a brief walkthrough
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#examining-one-variable">
       Examining one variable
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#examining-one-variable-by-group">
       Examining one variable by group
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#examining-two-variables">
       Examining two variables
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#faceting">
       Faceting
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#examining-two-variables-by-group">
       Examining two variables by group
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#practice-examine-the-diamonds-dataset">
     Practice: Examine the diamonds dataset
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#before-next-class">
     Before next class
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#references">
     References
    </a>
   </li>
  </ul>
 </li>
</ul>

        </nav>
        
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="making-a-viz">
<h1>Making a Viz<a class="headerlink" href="#making-a-viz" title="Permalink to this headline">¶</a></h1>
<p>Plotting is useful for</p>
<ul class="simple">
<li><p>Exploring data: <em>Understanding the structure of the data is absolutely essential to any analysis.</em></p></li>
<li><p>Discovering and presenting trends, comparisons, and relationships (results): <em>Pictures are worth a thousand words.</em></p></li>
</ul>
<p>A common data science work flow:</p>
<ol class="simple">
<li><p>Get data</p></li>
<li><p>Ask question</p></li>
<li><p>Modify data and plot/model to (possibly) answer question</p></li>
<li><p>Refine question or ask new question and return to step 2 or 3 and proceed.</p></li>
</ol>
<p>Notice: We’re in an infinite loop now. <strong>Point being: You should be plotting your data A LOT.</strong> For every figure I include in research papers, I’ve created literally hundreds of figures no one else will ever see.</p>
<p>This also points out that exploring data is an iterative process, during which you should “investigate every idea that occurs to you. Some of these ideas will pan out, and some will be dead ends. As your exploration continues, you will home in on a few particularly productive areas that you’ll eventually write up and communicate to others.” (<a class="reference external" href="https://r4ds.had.co.nz/exploratory-data-analysis.html">Garrett Grolemund and Hadley Wickham</a>)</p>
<div class="section" id="why-plot-our-data">
<h2>Why plot our data?<a class="headerlink" href="#why-plot-our-data" title="Permalink to this headline">¶</a></h2>
<p>I know I just said why above in general terms (“exploring data and presenting analysis”) but I want to show you a few classic examples.</p>
<div class="section" id="anscombe-s-quartet">
<h3>Anscombe’s quartet<a class="headerlink" href="#anscombe-s-quartet" title="Permalink to this headline">¶</a></h3>
<p>Is four datasets with identical means and standard deviation for two variables:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>  <span class="c1"># sometimes we want to tweak plots</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span> 

<span class="n">df</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">load_dataset</span><span class="p">(</span><span class="s2">&quot;anscombe&quot;</span><span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;dataset&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span> <span class="c1"># works, but a lil ugly...</span>
<span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;dataset&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span><span class="o">.</span><span class="n">swaplevel</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)[[</span><span class="s1">&#39;mean&#39;</span><span class="p">,</span><span class="s1">&#39;std&#39;</span><span class="p">]]</span> <span class="c1"># just report means and std</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead tr th {
        text-align: left;
    }

    .dataframe thead tr:last-of-type th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr>
      <th></th>
      <th colspan="2" halign="left">mean</th>
      <th colspan="2" halign="left">std</th>
    </tr>
    <tr>
      <th></th>
      <th>x</th>
      <th>y</th>
      <th>x</th>
      <th>y</th>
    </tr>
    <tr>
      <th>dataset</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>I</th>
      <td>9.0</td>
      <td>7.500909</td>
      <td>3.316625</td>
      <td>2.031568</td>
    </tr>
    <tr>
      <th>II</th>
      <td>9.0</td>
      <td>7.500909</td>
      <td>3.316625</td>
      <td>2.031657</td>
    </tr>
    <tr>
      <th>III</th>
      <td>9.0</td>
      <td>7.500000</td>
      <td>3.316625</td>
      <td>2.030424</td>
    </tr>
    <tr>
      <th>IV</th>
      <td>9.0</td>
      <td>7.500909</td>
      <td>3.316625</td>
      <td>2.030579</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>A regressionista says: “<span class="math notranslate nohighlight">\(x\)</span> and <span class="math notranslate nohighlight">\(y\)</span> all have the ‘same relationship’: <span class="math notranslate nohighlight">\(y = 3 + 0.5*x\)</span>”</p>
<p>But… just take one look at the figure below. Is that statement accurate?!</p>
<div class="cell tag_remove_input docutils container">
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;seaborn.axisgrid.FacetGrid at 0x1f4493f5148&gt;
</pre></div>
</div>
<img alt="../../../_images/03_Making_Some_Viz_Happen_3_1.png" src="../../../_images/03_Making_Some_Viz_Happen_3_1.png" />
</div>
</div>
</div>
<div class="section" id="outliers">
<h3>Outliers<a class="headerlink" href="#outliers" title="Permalink to this headline">¶</a></h3>
<p>Including them can change your regression coefficients:</p>
<div class="cell tag_remove_input docutils container">
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;seaborn.axisgrid.FacetGrid at 0x1f44acd3bc8&gt;
</pre></div>
</div>
<img alt="../../../_images/03_Making_Some_Viz_Happen_5_1.png" src="../../../_images/03_Making_Some_Viz_Happen_5_1.png" />
</div>
</div>
</div>
</div>
</div>
<div class="section" id="omitted-group-effects">
<h1>Omitted group effects<a class="headerlink" href="#omitted-group-effects" title="Permalink to this headline">¶</a></h1>
<p>If you regressed <span class="math notranslate nohighlight">\(x\)</span> on <span class="math notranslate nohighlight">\(y\)</span> in the following dataset, the relationship would be “clearly” negative…</p>
<div class="cell tag_remove_input docutils container">
</div>
<div class="cell tag_remove_input docutils container">
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.axes._subplots.AxesSubplot at 0x1f44add9288&gt;
</pre></div>
</div>
<img alt="../../../_images/03_Making_Some_Viz_Happen_8_1.png" src="../../../_images/03_Making_Some_Viz_Happen_8_1.png" />
</div>
</div>
<p>… but it should be <strong>positive, taking the groups (colored below) into account:</strong></p>
<div class="cell tag_remove_input docutils container">
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;seaborn.axisgrid.FacetGrid at 0x1f44ae06f88&gt;
</pre></div>
</div>
<img alt="../../../_images/03_Making_Some_Viz_Happen_10_1.png" src="../../../_images/03_Making_Some_Viz_Happen_10_1.png" />
</div>
</div>
<p>The <a class="reference external" href="https://socviz.co/">online book version</a> of “Data Visualization: A practical introduction” by Kieran Healy notes that</p>
<blockquote>
<div><p>Illustrations like these demonstrate why it is worth looking at data. But that does not mean that looking at data is all one needs to do. Real datasets are messy, and while displaying them graphically is very useful, doing so presents problems of its own. [As we will see next lecture], there is considerable debate about what sort of visual work is most effective, when it can be superfluous, and how it can at times be misleading to researchers and audiences alike.</p>
</div></blockquote>
<p>Just like with tables of numbers, graphs deliberately simplify things to help use peer into the cloud of data. Still, we will not automatically get the right answer to our questions just by looking at these summaries. This is why we will cover more rigorous methods to uncover statistical relationships later in the course.</p>
<p>Yet, summary stats and graphs are an absolutely necessary starting point.</p>
<div class="section" id="outline-for-the-week">
<h2>Outline for the week<a class="headerlink" href="#outline-for-the-week" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Day 1: Doing: Cover the mechanics and get our hands dirty</p></li>
<li><p>Day 2: How to make a good visualization</p></li>
</ul>
</div>
<div class="section" id="tips">
<h2>Tips<a class="headerlink" href="#tips" title="Permalink to this headline">¶</a></h2>
<p>Generally, to plot in Python:</p>
<ol class="simple">
<li><p>Put your data into a DataFrame</p></li>
<li><p>Format the data long</p></li>
<li><p>Use <code class="docutils literal notranslate"><span class="pre">pd</span></code> or <code class="docutils literal notranslate"><span class="pre">sns</span></code> plotting functions.</p>
<ul class="simple">
<li><p>Use which ever is easiest! Pandas can do bar, “barh”, scatter, and density. Go with <code class="docutils literal notranslate"><span class="pre">seaborn</span></code> otherwise.</p></li>
<li><p><strong>Start with basic plots, then layer in features</strong></p></li>
<li><p>Get the “gist” of the figure right</p></li>
</ul>
</li>
<li><p>If you need to customize the figure, you’ll end up using <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code> which is a full-powered (but confusing as heck) graphing package. In fact, both <code class="docutils literal notranslate"><span class="pre">pandas</span></code> and <code class="docutils literal notranslate"><span class="pre">seaborn</span></code> are just using <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code>, but they hide the gory details for us. Thanks, <code class="docutils literal notranslate"><span class="pre">seaborn</span></code>!</p>
<ul class="simple">
<li><p><strong>Only customize when necessary for hyper control. Focus on CONTENT</strong> over hyper-control of formatting.</p></li>
<li><p>Some “format” tweaks (add a title, change the axis titles) and choices about plotting can be quick/cheap and have high value, and you should do these <strong>right before you finish your project/assignment</strong> and are about to post it officially. Otherwise, focus on content.</p></li>
</ul>
</li>
</ol>
<p>When you want to customize your figures, go to these links first: <a class="reference external" href="https://matplotlib.org/_images/anatomy1.png">elements of a python figure</a>, <a class="reference external" href="https://matplotlib.org/faq/usage_faq.html#parts-of-a-figure">anatomy of a figure as “fig” and “axes” objects</a> (How its objects are made, stored, and accessed. <strong>Only read the “parts of a figure” section</strong>), and <a class="reference external" href="https://pbpython.com/effective-matplotlib.html">effective customization</a></p>
<p>Also,</p>
<ul class="simple">
<li><p><strong>Start with simple graphs</strong>, and then build in and layer on “complications” and features.</p></li>
<li><p>Really compare your code with the syntax in the documentation. Understanding what each parameters does and needs is essential.</p></li>
<li><p>Triple check for typos, unclosed parentheses and the like.</p></li>
</ul>
<div class="section" id="which-graph-should-i-make">
<h3>Which graph should I make?<a class="headerlink" href="#which-graph-should-i-make" title="Permalink to this headline">¶</a></h3>
<p><strong>Which type</strong>: This will help you pick what type of graph is useful for a given situation, and each chart has an infographic describing it along “common mistakes” to avoid for that chart type: <a class="reference external" href="https://www.data-to-viz.com/">https://www.data-to-viz.com/</a></p>
<p><strong>Quick exercise</strong>: Go to that link and find a nice chart type to plot leverage by industry.</p>
<p><strong>How to make it:</strong></p>
<ul class="simple">
<li><p><a class="reference external" href="https://www.data-to-viz.com/">https://www.data-to-viz.com/</a>  has Python examples in <code class="docutils literal notranslate"><span class="pre">seaborn</span></code> for most but not all graphs</p></li>
<li><p><a class="reference external" href="https://python-graph-gallery.com/">https://python-graph-gallery.com/</a> is very helpful as well</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">seaborn</span></code> tutorial page is excellent: <a class="reference external" href="https://seaborn.pydata.org/tutorial.html">https://seaborn.pydata.org/tutorial.html</a></p></li>
</ul>
</div>
<div class="section" id="this-graph-can-t-be-made">
<h3>“This graph can’t be made”<a class="headerlink" href="#this-graph-can-t-be-made" title="Permalink to this headline">¶</a></h3>
<p><strong>Most graphing pain comes from insufficient data wrangling (per Jenny Bryan).</strong> Most plotting functions have assumptions  about how the data is shaped. Data might be unwieldy but we can control it:</p>
<p><img alt="" src="https://media.giphy.com/media/TYvH0iRtnqYo0/giphy.gif" /></p>
<p>How?</p>
<ul class="simple">
<li><p><strong>Keep your data in “tidy form” (aka tall data aka long data).</strong> <code class="docutils literal notranslate"><span class="pre">Seaborn</span></code> expects data shaped like this. Long data is generally better for data analysis and visualization (even aside from Seaborn’s assumptions)</p></li>
<li><p><em>The exception: Pandas.</em> If you want to plot using a <code class="docutils literal notranslate"><span class="pre">pandas</span></code> plot function, you <em>might</em> have to reshape (temporarily) your data to the wider “output shape” that corresponds to the graph type you’re generating.</p></li>
</ul>
</div>
<div class="section" id="should-i-use-sns-or-pd-to-do-plot-x">
<h3>Should I use <code class="docutils literal notranslate"><span class="pre">sns</span></code> or <code class="docutils literal notranslate"><span class="pre">pd</span></code> to do plot X?<a class="headerlink" href="#should-i-use-sns-or-pd-to-do-plot-x" title="Permalink to this headline">¶</a></h3>
<p>A: Which ever is easiest! <code class="docutils literal notranslate"><span class="pre">panda</span></code>’s plotting functions are simple and good for early stage and simple graphics, but <code class="docutils literal notranslate"><span class="pre">seaborn</span></code> has many more built in options and has simpler syntax/easier to use.</p>
<p>Note that, as mentioned above, the shape of the data matters for all plotting functions.</p>
</div>
<div class="section" id="i-want-to-facet-my-figure-but">
<h3>I want to <code class="docutils literal notranslate"><span class="pre">Facet</span></code> my figure, but…<a class="headerlink" href="#i-want-to-facet-my-figure-but" title="Permalink to this headline">¶</a></h3>
<p><em>(Skip this during the lecture. This will make sense later, but is here for future reference.)</em></p>
<p>…I want to split the rows (or columns) by a (A) continuous variable or (B) a variable with too many values.</p>
<p>The solution to</p>
<ul class="simple">
<li><p>(A) is to partition/slice/factor your variable into bins using <code class="docutils literal notranslate"><span class="pre">panda</span></code>’s <a class="reference external" href="https://pandas.pydata.org/pandas-docs/version/0.23.4/generated/pandas.cut.html"><code class="docutils literal notranslate"><span class="pre">cut</span></code> function</a>.</p></li>
<li><p>(B) is to re-factor the variables into a smaller number of groups or by graphing only some of them.</p></li>
</ul>
<p><strong>For example:</strong> Say you want to plot how age and death are related, and you want to plot this for healthy people and less-healthy people. So you collect the BMI of individuals in your sample. Let’s say that BMI can take 25 values from 15 to 40. The problem is plotting 20 sub-figures is probably excessive. The solution is to use the <code class="docutils literal notranslate"><span class="pre">cut</span></code> function to create a new variable which is four bins of BMI <a class="reference external" href="https://www.nhs.uk/common-health-questions/lifestyle/what-is-the-body-mass-index-bmi/">according to the UK’s NHS</a>: underweight (BMI&lt;18.5), healthy (BMI 18.5-24.5), overweight (BMI 24.5-30), obese (BMI&gt;30).</p>
</div>
</div>
<div class="section" id="common-graphs-a-brief-walkthrough">
<h2>Common graphs - a brief walkthrough<a class="headerlink" href="#common-graphs-a-brief-walkthrough" title="Permalink to this headline">¶</a></h2>
<p>The functions below are but a little tasting of common plots, and I’m not specifying parameters beyond the utterly necessary. The functions are much more powerful, and changing the parameters a bit can produce large changes (and interesting changes!). For example, <code class="docutils literal notranslate"><span class="pre">col</span></code> and <code class="docutils literal notranslate"><span class="pre">hue</span></code> typically multiply the amount of info in a graph.</p>
<p>You can either read the function’s documentation (and I frequently do!) via <code class="docutils literal notranslate"><span class="pre">SHIFT+TAB</span></code> or look through the <a class="reference external" href="#Which-graph-should-I-make?">galleries above</a> until you see graphs with features you want, and then you can look at how they are made. I would absolutely bookmark <a class="reference external" href="#Which-graph-should-I-make?">those links</a>.</p>
<div class="section" id="examining-one-variable">
<h3>Examining one variable<a class="headerlink" href="#examining-one-variable" title="Permalink to this headline">¶</a></h3>
<p>Below, if I call something like <code class="docutils literal notranslate"><span class="pre">df['variable'].&lt;stuff&gt;</span></code> that means we are using <code class="docutils literal notranslate"><span class="pre">pandas</span></code> built in plotting methods. Else, we call <code class="docutils literal notranslate"><span class="pre">sns</span></code> to use <code class="docutils literal notranslate"><span class="pre">seaborn</span></code>.</p>
<p>If the variable is called <span class="math notranslate nohighlight">\(x\)</span> in the dataset,</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="text-align:left head"><p>Graph</p></th>
<th class="text-align:left head"><p>Code example</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-align:left"><p>frequency count</p></td>
<td class="text-align:left"><p><code class="docutils literal notranslate"><span class="pre">df['x'].value_counts().plot.bar()</span>&#160;&#160;&#160;&#160;&#160; <span class="pre">#</span> <span class="pre">built</span> <span class="pre">in</span> <span class="pre">pandas</span> <span class="pre">fnc</span></code> <br> <code class="docutils literal notranslate"><span class="pre">df['x'].value_counts()[:10].plot.bar()</span> <span class="pre">#</span> <span class="pre">only</span> <span class="pre">the</span> <span class="pre">top</span> <span class="pre">10</span> <span class="pre">values</span></code> <br> <code class="docutils literal notranslate"><span class="pre">sns.countplot(df['x'])</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">#</span> <span class="pre">that</span> <span class="pre">seems</span> <span class="pre">a</span> <span class="pre">lot</span> <span class="pre">easier!</span></code></p></td>
</tr>
<tr class="row-odd"><td class="text-align:left"><p>histogram</p></td>
<td class="text-align:left"><p><code class="docutils literal notranslate"><span class="pre">sns.distplot(df['x'],kde=False)</span></code> <br> <code class="docutils literal notranslate"><span class="pre">sns.distplot(df['x'])</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">#</span> <span class="pre">includes</span> <span class="pre">both</span> <span class="pre">kde</span> <span class="pre">and</span> <span class="pre">hist</span> <span class="pre">by</span> <span class="pre">default</span></code>  <br> <code class="docutils literal notranslate"><span class="pre">sns.distplot(df['x'],bins=15)</span>&#160;&#160;&#160; <span class="pre">#</span> <span class="pre">lots</span> <span class="pre">of</span> <span class="pre">opts,</span> <span class="pre">one</span> <span class="pre">is</span> <span class="pre">num</span> <span class="pre">of</span> <span class="pre">bins</span></code></p></td>
</tr>
<tr class="row-even"><td class="text-align:left"><p>KDE (Kernel density est.)</p></td>
<td class="text-align:left"><p><code class="docutils literal notranslate"><span class="pre">sns.kdeplot(df['x'])</span></code> <br> <code class="docutils literal notranslate"><span class="pre">sns.distplot(df['x'],hist=False)</span> <span class="pre">#</span> <span class="pre">turn</span> <span class="pre">off</span> <span class="pre">histogram</span></code></p></td>
</tr>
<tr class="row-odd"><td class="text-align:left"><p>boxplot</p></td>
<td class="text-align:left"><p><code class="docutils literal notranslate"><span class="pre">sns.boxplot(x=&quot;x&quot;,</span> <span class="pre">data=df)</span></code></p></td>
</tr>
</tbody>
</table>
<p>The <code class="docutils literal notranslate"><span class="pre">countplot</span></code>/bar graph counts frequency of values (# of times that value exists) within a variable, and is best when there are fewer possible values or when the variable is categorical instead of numerical (e.g. the color of a car).</p>
<p>The others examine the distribution of values for numerical variables (not categorical) and also work on continuous variables or those with many values.</p>
</div>
<div class="section" id="examining-one-variable-by-group">
<h3>Examining one variable by group<a class="headerlink" href="#examining-one-variable-by-group" title="Permalink to this headline">¶</a></h3>
<p>If you want to examine <span class="math notranslate nohighlight">\(y\)</span> for each group in <span class="math notranslate nohighlight">\(group\)</span></p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="text-align:left head"><p>Graph</p></th>
<th class="text-align:left head"><p>Code example</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-align:left"><p>boxplot</p></td>
<td class="text-align:left"><p><code class="docutils literal notranslate"><span class="pre">sns.boxplot(x=&quot;group&quot;,y=&quot;y&quot;,</span> <span class="pre">data=df)</span></code></p></td>
</tr>
<tr class="row-odd"><td class="text-align:left"><p>distplot</p></td>
<td class="text-align:left"><p><code class="docutils literal notranslate"><span class="pre">sns.FacetGrid(temp_df,</span> <span class="pre">hue=&quot;group&quot;).map(sns.kdeplot,</span> <span class="pre">&quot;y&quot;)</span></code> <br><br> <code class="docutils literal notranslate"><span class="pre">kdeplot</span></code> is the KDE plot portion of <code class="docutils literal notranslate"><span class="pre">distplot</span></code>. <br> FacetGrid is something we should defer talking about….</p></td>
</tr>
<tr class="row-even"><td class="text-align:left"><p>violinplot</p></td>
<td class="text-align:left"><p><code class="docutils literal notranslate"><span class="pre">sns.violinplot(x=&quot;group&quot;,y=&quot;y&quot;,</span> <span class="pre">data=df)</span></code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="examining-two-variables">
<h3>Examining two variables<a class="headerlink" href="#examining-two-variables" title="Permalink to this headline">¶</a></h3>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="text-align:left head"><p>Graph</p></th>
<th class="text-align:left head"><p>Code example</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-align:left"><p>line</p></td>
<td class="text-align:left"><p><code class="docutils literal notranslate"><span class="pre">sns.lineplot(x=&quot;x&quot;,</span> <span class="pre">y=&quot;y&quot;,</span> <span class="pre">data=df)</span></code></p></td>
</tr>
<tr class="row-odd"><td class="text-align:left"><p>scatterplot</p></td>
<td class="text-align:left"><p><code class="docutils literal notranslate"><span class="pre">sns.scatterplot(x=&quot;x&quot;,</span> <span class="pre">y=&quot;y&quot;,</span> <span class="pre">data=df)</span></code></p></td>
</tr>
<tr class="row-even"><td class="text-align:left"><p>scatter + density</p></td>
<td class="text-align:left"><p><code class="docutils literal notranslate"><span class="pre">sns.jointplot(x=&quot;x&quot;,</span> <span class="pre">y=&quot;y&quot;,</span> <span class="pre">data=df)</span></code></p></td>
</tr>
<tr class="row-odd"><td class="text-align:left"><p>with fit line</p></td>
<td class="text-align:left"><p><code class="docutils literal notranslate"><span class="pre">sns.jointplot(x=&quot;x&quot;,</span> <span class="pre">y=&quot;y&quot;,</span> <span class="pre">data=df,kind=reg)</span> <span class="pre">#</span> <span class="pre">regress</span> <span class="pre">to</span> <span class="pre">get</span> <span class="pre">fit</span></code></p></td>
</tr>
<tr class="row-even"><td class="text-align:left"><p>hexbin</p></td>
<td class="text-align:left"><p><code class="docutils literal notranslate"><span class="pre">sns.jointplot(x=x,</span> <span class="pre">y=y,</span> <span class="pre">kind=&quot;hex&quot;)</span> <span class="pre">#</span> <span class="pre">possibly</span> <span class="pre">better</span> <span class="pre">than</span> <span class="pre">scatter</span> <span class="pre">with</span> <span class="pre">larger</span> <span class="pre">data</span></code></p></td>
</tr>
<tr class="row-odd"><td class="text-align:left"><p>topograph</p></td>
<td class="text-align:left"><p><code class="docutils literal notranslate"><span class="pre">sns.jointplot(x=x,</span> <span class="pre">y=y,</span> <span class="pre">kind=&quot;kde&quot;)</span>&#160;&#160; <span class="pre">topo</span> <span class="pre">map</span> <span class="pre">with</span> <span class="pre">kde</span> <span class="pre">on</span> <span class="pre">sides</span></code></p></td>
</tr>
<tr class="row-even"><td class="text-align:left"><p>pairwise scatter</p></td>
<td class="text-align:left"><p><code class="docutils literal notranslate"><span class="pre">sns.pairplot(df[['x','y','z']])</span></code> <br>  <code class="docutils literal notranslate"><span class="pre">sns.pairplot(df[['x','y','z']],kind='reg)</span> <span class="pre">#</span> <span class="pre">add</span> <span class="pre">fit</span> <span class="pre">lines</span></code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="faceting">
<h3>Faceting<a class="headerlink" href="#faceting" title="Permalink to this headline">¶</a></h3>
<p>Let’s look two plots quickly:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">iris</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">load_dataset</span><span class="p">(</span><span class="s2">&quot;iris&quot;</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">pairplot</span><span class="p">(</span><span class="n">iris</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span> <span class="c1"># opens a new plot (within a cell, python interprets new plot commands </span>
             <span class="c1"># as adtl on existing one unless you close the existing plot or open new one)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">boxplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s2">&quot;species&quot;</span><span class="p">,</span><span class="n">y</span><span class="o">=</span><span class="s2">&quot;petal_width&quot;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">iris</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.axes._subplots.AxesSubplot at 0x1f44b6cc888&gt;
</pre></div>
</div>
<img alt="../../../_images/03_Making_Some_Viz_Happen_20_1.png" src="../../../_images/03_Making_Some_Viz_Happen_20_1.png" />
<img alt="../../../_images/03_Making_Some_Viz_Happen_20_2.png" src="../../../_images/03_Making_Some_Viz_Happen_20_2.png" />
</div>
</div>
<p>You see how that first figure (the <code class="docutils literal notranslate"><span class="pre">pairplot</span></code>) has many subplots? That is <em>one type</em> of “Facets”. Facets allow you to present more info on a graph by designing a plot for a subset of the data, and quickly repeating it for other parts. You can think of facets as either</p>
<ul class="simple">
<li><p>creating subfigures</p>
<ul>
<li><p>the <code class="docutils literal notranslate"><span class="pre">pairplot</span></code> does this for combinations of variables</p></li>
<li><p>the Anscombe example at the top makes subfigures for subsets of the data</p></li>
</ul>
</li>
<li><p>or overlaying figures on top of each other in a single figure</p>
<ul>
<li><p>the categorical <code class="docutils literal notranslate"><span class="pre">boxplot</span></code> above does that for each sub group</p></li>
<li><p>the example above in the “omitted group effects” section</p></li>
</ul>
</li>
</ul>
<p>With that covered, earlier examples ca begin to make a little more sense.</p>
</div>
<div class="section" id="examining-two-variables-by-group">
<h3>Examining two variables by group<a class="headerlink" href="#examining-two-variables-by-group" title="Permalink to this headline">¶</a></h3>
<p>You will come across times where you think the relationship between <span class="math notranslate nohighlight">\(x\)</span> and <span class="math notranslate nohighlight">\(y\)</span> might on a third variable, <span class="math notranslate nohighlight">\(z\)</span>, or maybe even a fourth variable <span class="math notranslate nohighlight">\(w\)</span>. For example, age and income are related, but the relationship is different for college educated women than it is for high-school only men.</p>
<p>If you want to examine the relationship of <span class="math notranslate nohighlight">\(x\)</span> and <span class="math notranslate nohighlight">\(y\)</span> for each group in <span class="math notranslate nohighlight">\(group\)</span>, you can do so using any two-way plot type (scatter and its cousins).</p>
<p>The main note is that some functions do this with a <code class="docutils literal notranslate"><span class="pre">hue</span></code> function (give different groups different colors) and some do it with <code class="docutils literal notranslate"><span class="pre">col</span></code> (give different groups different subfigures).</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="text-align:left head"><p>Graph</p></th>
<th class="text-align:left head"><p>Code example</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-align:left"><p>line</p></td>
<td class="text-align:left"><p><code class="docutils literal notranslate"><span class="pre">sns.lineplot(x=&quot;x&quot;,</span> <span class="pre">y=&quot;y&quot;,</span> <span class="pre">data=df,hue='group')</span></code></p></td>
</tr>
<tr class="row-odd"><td class="text-align:left"><p>scatterplot</p></td>
<td class="text-align:left"><p><code class="docutils literal notranslate"><span class="pre">sns.scatterplot(x=&quot;x&quot;,</span> <span class="pre">y=&quot;y&quot;,</span> <span class="pre">data=df,hue='group')</span></code></p></td>
</tr>
<tr class="row-even"><td class="text-align:left"><p>pairplot</p></td>
<td class="text-align:left"><p><code class="docutils literal notranslate"><span class="pre">sns.pairplot(df,hue='group')</span></code></p></td>
</tr>
</tbody>
</table>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sns</span><span class="o">.</span><span class="n">lmplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">iris</span><span class="p">,</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;petal_width&#39;</span><span class="p">,</span><span class="n">y</span><span class="o">=</span><span class="s2">&quot;petal_length&quot;</span><span class="p">,</span><span class="n">col</span><span class="o">=</span><span class="s2">&quot;species&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;seaborn.axisgrid.FacetGrid at 0x1f44b84fac8&gt;
</pre></div>
</div>
<img alt="../../../_images/03_Making_Some_Viz_Happen_23_1.png" src="../../../_images/03_Making_Some_Viz_Happen_23_1.png" />
</div>
</div>
</div>
</div>
<div class="section" id="practice-examine-the-diamonds-dataset">
<h2>Practice: Examine the diamonds dataset<a class="headerlink" href="#practice-examine-the-diamonds-dataset" title="Permalink to this headline">¶</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">diamonds</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">load_dataset</span><span class="p">(</span><span class="s1">&#39;diamonds&#39;</span><span class="p">)</span>
<span class="n">diamonds</span> <span class="c1"># notice shape, unit, key, etc...</span>

<span class="c1"># my turn: lets do the usual immediate explorations including the categorical vars</span>

<span class="c1"># my turn: explore carats - how many are 0.99 vs 1 carat? why?</span>

<span class="c1"># explore dist of x, y, z: what did you learn? which is width, length, depth?</span>

<span class="c1"># your turn: explore price - is there anything unusual? (HINT: try many bin widths)</span>

<span class="c1"># my turn: how is carat related to price?</span>

<span class="c1"># your turn: how is price related to cut?</span>

<span class="c1"># how should we deal with outliers? delete obs? replace with nan? winsorize? show each...</span>
</pre></div>
</div>
</div>
</div>
<div class="cell tag_remove_input tag_remove_output docutils container">
</div>
</div>
<div class="section" id="before-next-class">
<h2>Before next class<a class="headerlink" href="#before-next-class" title="Permalink to this headline">¶</a></h2>
<ol class="simple">
<li><p>Finish the diamonds practice above</p></li>
<li><p>Make initial (maybe ugly/bad) plots for all exercises in the <span class="xref myst">Visualization Practice page</span>.</p></li>
</ol>
</div>
<div class="section" id="references">
<h2>References<a class="headerlink" href="#references" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p><a class="reference external" href="https://www.kaggle.com/residentmario/welcome-to-data-visualization">Kaggle’s data viz tutorial</a></p></li>
<li><p><a class="reference external" href="https://www.data-to-viz.com">What chart should I use</a> and <a class="reference external" href="https://python-graph-gallery.com">how can I make it</a></p></li>
<li><p><a class="reference external" href="https://speakerdeck.com/jennybc/ggplot2-tutorial">Jenny Bryan’s <code class="docutils literal notranslate"><span class="pre">ggplot2</span></code> walkthrough is for R, but has wisdom I imported here</a></p></li>
<li><p><a class="reference external" href="https://serialmentor.com/dataviz/">Fundamentals of Data Visualization, by Claus O. Wilke</a></p></li>
<li><p><a class="reference external" href="https://seaborn.pydata.org/tutorial.html"><code class="docutils literal notranslate"><span class="pre">seaborn</span></code> tutorials</a></p></li>
<li><p><a class="reference external" href="https://r4ds.had.co.nz/index.html">R for Data Science, by Grolemund and Wickham</a></p></li>
</ul>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./content/03/old - orig"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        </div>
    </div>
    
    
    <div class='prev-next-bottom'>
        

    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By Prof. Donald Bowen<br/>
        
            &copy; Copyright 2020.<br/>
          <div class="extra_footer">
            You're doing well, keep going!
          </div>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>

    
  <script src="../../../_static/js/index.d3f166471bb80abb5163.js"></script>


    
  </body>
</html>